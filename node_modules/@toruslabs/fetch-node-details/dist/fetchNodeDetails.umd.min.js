!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.FetchNodeDetails=e():t.FetchNodeDetails=e()}(self,(()=>(()=>{var t={344:(t,e,n)=>{t=n.nmd(t);var o="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",a="[object AsyncFunction]",c="[object Function]",s="[object GeneratorFunction]",u="[object Null]",f="[object Object]",d="[object Proxy]",l="[object Undefined]",p=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[i]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b[c]=b["[object Map]"]=b["[object Number]"]=b[f]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1;var v,y,_,g="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,w="object"==typeof self&&self&&self.Object===Object&&self,E=g||w||Function("return this")(),S=e&&!e.nodeType&&e,m=S&&t&&!t.nodeType&&t,N=m&&m.exports===S,j=N&&g.process,A=function(){try{return m&&m.require&&m.require("util").types||j&&j.binding&&j.binding("util")}catch(t){}}(),T=A&&A.isTypedArray,I=Array.prototype,P=Function.prototype,O=Object.prototype,k=E["__core-js_shared__"],R=P.toString,x=O.hasOwnProperty,L=(v=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"",M=O.toString,D=R.call(Object),$=RegExp("^"+R.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=N?E.Buffer:void 0,U=E.Symbol,F=E.Uint8Array,z=(C&&C.allocUnsafe,y=Object.getPrototypeOf,_=Object,function(t){return y(_(t))}),H=Object.create,Y=O.propertyIsEnumerable,X=I.splice,V=U?U.toStringTag:void 0,B=function(){try{var t=lt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),q=C?C.isBuffer:void 0,G=Math.max,Q=Date.now,W=lt(E,"Map"),J=lt(Object,"create"),K=function(){function t(){}return function(e){if(!Nt(e))return{};if(H)return H(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function Z(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}function nt(t){var e=this.__data__=new tt(t);this.size=e.size}function ot(t,e,n){(void 0!==n&&!yt(t[e],n)||void 0===n&&!(e in t))&&at(t,e,n)}function rt(t,e,n){var o=t[e];x.call(t,e)&&yt(o,n)&&(void 0!==n||e in t)||at(t,e,n)}function it(t,e){for(var n=t.length;n--;)if(yt(t[n][0],e))return n;return-1}function at(t,e,n){"__proto__"==e&&B?B(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}Z.prototype.clear=function(){this.__data__=J?J(null):{},this.size=0},Z.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Z.prototype.get=function(t){var e=this.__data__;if(J){var n=e[t];return n===o?void 0:n}return x.call(e,t)?e[t]:void 0},Z.prototype.has=function(t){var e=this.__data__;return J?void 0!==e[t]:x.call(e,t)},Z.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=J&&void 0===e?o:e,this},tt.prototype.clear=function(){this.__data__=[],this.size=0},tt.prototype.delete=function(t){var e=this.__data__,n=it(e,t);return!(n<0||(n==e.length-1?e.pop():X.call(e,n,1),--this.size,0))},tt.prototype.get=function(t){var e=this.__data__,n=it(e,t);return n<0?void 0:e[n][1]},tt.prototype.has=function(t){return it(this.__data__,t)>-1},tt.prototype.set=function(t,e){var n=this.__data__,o=it(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this},et.prototype.clear=function(){this.size=0,this.__data__={hash:new Z,map:new(W||tt),string:new Z}},et.prototype.delete=function(t){var e=dt(this,t).delete(t);return this.size-=e?1:0,e},et.prototype.get=function(t){return dt(this,t).get(t)},et.prototype.has=function(t){return dt(this,t).has(t)},et.prototype.set=function(t,e){var n=dt(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this},nt.prototype.clear=function(){this.__data__=new tt,this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},nt.prototype.get=function(t){return this.__data__.get(t)},nt.prototype.has=function(t){return this.__data__.has(t)},nt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof tt){var o=n.__data__;if(!W||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new et(o)}return n.set(t,e),this.size=n.size,this};function ct(t){return null==t?void 0===t?l:u:V&&V in Object(t)?function(t){var e=x.call(t,V),n=t[V];try{t[V]=void 0;var o=!0}catch(t){}var r=M.call(t);return o&&(e?t[V]=n:delete t[V]),r}(t):function(t){return M.call(t)}(t)}function st(t){return jt(t)&&ct(t)==i}function ut(t,e,n,o,r){t!==e&&function(t,e,n){for(var o=-1,r=Object(t),i=n(t),a=i.length;a--;){var c=i[++o];if(!1===e(r[c],c,r))break}}(e,(function(i,a){if(r||(r=new nt),Nt(i))!function(t,e,n,o,r,i,a){var c=bt(t,n),s=bt(e,n),u=a.get(s);if(u)ot(t,n,u);else{var d,l,p,h,b,v=i?i(c,s,n+"",t,e,a):void 0,y=void 0===v;if(y){var _=gt(s),g=!_&&Et(s),w=!_&&!g&&At(s);v=s,_||g||w?gt(c)?v=c:jt(b=c)&&wt(b)?v=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e}(c):g?(y=!1,v=function(t,e){return t.slice()}(s)):w?(y=!1,h=new(p=(d=s).buffer).constructor(p.byteLength),new F(h).set(new F(p)),l=h,v=new d.constructor(l,d.byteOffset,d.length)):v=[]:function(t){if(!jt(t)||ct(t)!=f)return!1;var e=z(t);if(null===e)return!0;var n=x.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&R.call(n)==D}(s)||_t(s)?(v=c,_t(c)?v=function(t){return function(t,e,n,o){var r=!n;n||(n={});for(var i=-1,a=e.length;++i<a;){var c=e[i],s=void 0;void 0===s&&(s=t[c]),r?at(n,c,s):rt(n,c,s)}return n}(t,Tt(t))}(c):Nt(c)&&!St(c)||(v=function(t){return"function"!=typeof t.constructor||ht(t)?{}:K(z(t))}(s))):y=!1}y&&(a.set(s,v),r(v,s,o,i,a),a.delete(s)),ot(t,n,v)}}(t,e,a,n,ut,o,r);else{var c=o?o(bt(t,a),i,a+"",t,e,r):void 0;void 0===c&&(c=i),ot(t,a,c)}}),Tt)}var ft=B?function(t,e){return B(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:Ot;function dt(t,e){var n,o,r=t.__data__;return("string"==(o=typeof(n=e))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function lt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!Nt(t)||function(t){return!!L&&L in t}(t))&&(St(t)?$:p).test(function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}(n)?n:void 0}function pt(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&h.test(t))&&t>-1&&t%1==0&&t<e}function ht(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||O)}function bt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var vt=function(t){var e=0,n=0;return function(){var o=Q(),r=16-(o-n);if(n=o,r>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(ft);function yt(t,e){return t===e||t!=t&&e!=e}var _t=st(function(){return arguments}())?st:function(t){return jt(t)&&x.call(t,"callee")&&!Y.call(t,"callee")},gt=Array.isArray;function wt(t){return null!=t&&mt(t.length)&&!St(t)}var Et=q||function(){return!1};function St(t){if(!Nt(t))return!1;var e=ct(t);return e==c||e==s||e==a||e==d}function mt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function Nt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function jt(t){return null!=t&&"object"==typeof t}var At=T?function(t){return function(e){return t(e)}}(T):function(t){return jt(t)&&mt(t.length)&&!!b[ct(t)]};function Tt(t){return wt(t)?function(t,e){var n=gt(t),o=!n&&_t(t),r=!n&&!o&&Et(t),i=!n&&!o&&!r&&At(t),a=n||o||r||i,c=a?function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o}(t.length,String):[],s=c.length;for(var u in t)!e&&!x.call(t,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||pt(u,s))||c.push(u);return c}(t,!0):function(t){if(!Nt(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=ht(t),n=[];for(var o in t)("constructor"!=o||!e&&x.call(t,o))&&n.push(o);return n}(t)}var It,Pt=(It=function(t,e,n){ut(t,e,n)},function(t,e){return vt(function(t,e,n){return e=G(void 0===e?t.length-1:e,0),function(){for(var o=arguments,r=-1,i=G(o.length-e,0),a=Array(i);++r<i;)a[r]=o[e+r];r=-1;for(var c=Array(e+1);++r<e;)c[r]=o[r];return c[e]=n(a),function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}(t,this,c)}}(t,e,Ot),t+"")}((function(t,e){var n=-1,o=e.length,r=o>1?e[o-1]:void 0,i=o>2?e[2]:void 0;for(r=It.length>3&&"function"==typeof r?(o--,r):void 0,i&&function(t,e,n){if(!Nt(n))return!1;var o=typeof e;return!!("number"==o?wt(n)&&pt(e,n.length):"string"==o&&e in n)&&yt(n[e],t)}(e[0],e[1],i)&&(r=o<3?void 0:r,o=1),t=Object(t);++n<o;){var a=e[n];a&&It(t,a,n)}return t})));function Ot(t){return t}t.exports=Pt},640:function(t,e,n){var o,r;!function(i,a){"use strict";o=function(){var t=function(){},e="undefined",n=typeof window!==e&&typeof window.navigator!==e&&/Trident\/|MSIE /.test(window.navigator.userAgent),o=["trace","debug","info","warn","error"];function r(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(e){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(e,n){for(var r=0;r<o.length;r++){var i=o[r];this[i]=r<e?t:this.methodFactory(i,e,n)}this.log=this.debug}function c(t,n,o){return function(){typeof console!==e&&(a.call(this,n,o),this[t].apply(this,arguments))}}function s(o,a,s){return function(o){return"debug"===o&&(o="log"),typeof console!==e&&("trace"===o&&n?i:void 0!==console[o]?r(console,o):void 0!==console.log?r(console,"log"):t)}(o)||c.apply(this,arguments)}function u(t,n,r){var i,c=this;n=null==n?"WARN":n;var u="loglevel";function f(){var t;if(typeof window!==e&&u){try{t=window.localStorage[u]}catch(t){}if(typeof t===e)try{var n=window.document.cookie,o=n.indexOf(encodeURIComponent(u)+"=");-1!==o&&(t=/^([^;]+)/.exec(n.slice(o))[1])}catch(t){}return void 0===c.levels[t]&&(t=void 0),t}}"string"==typeof t?u+=":"+t:"symbol"==typeof t&&(u=void 0),c.name=t,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=r||s,c.getLevel=function(){return i},c.setLevel=function(n,r){if("string"==typeof n&&void 0!==c.levels[n.toUpperCase()]&&(n=c.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=c.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==r&&function(t){var n=(o[t]||"silent").toUpperCase();if(typeof window!==e&&u){try{return void(window.localStorage[u]=n)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"="+n+";"}catch(t){}}}(n),a.call(c,n,t),typeof console===e&&n<c.levels.SILENT)return"No console available for logging"},c.setDefaultLevel=function(t){n=t,f()||c.setLevel(t,!1)},c.resetLevel=function(){c.setLevel(n,!1),function(){if(typeof window!==e&&u){try{return void window.localStorage.removeItem(u)}catch(t){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}()},c.enableAll=function(t){c.setLevel(c.levels.TRACE,t)},c.disableAll=function(t){c.setLevel(c.levels.SILENT,t)};var d=f();null==d&&(d=n),c.setLevel(d,!1)}var f=new u,d={};f.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=d[t];return e||(e=d[t]=new u(t,f.getLevel(),f.methodFactory)),e};var l=typeof window!==e?window.log:void 0;return f.noConflict=function(){return typeof window!==e&&window.log===f&&(window.log=l),f},f.getLoggers=function(){return d},f.default=f,f},void 0===(r=o.call(e,n,e,t))||(t.exports=r)}()}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var o={};return(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n,o){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,"string");if("object"!==t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}n.r(o),n.d(o,{NodeDetailManager:()=>j,default:()=>j});const r={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},i={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"},a=[r.CELESTE],c={[r.AQUA]:{migrationCompleted:!0,networkIdentifier:"aqua",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.CELESTE]:{migrationCompleted:!1,networkIdentifier:"celeste",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.CYAN]:{migrationCompleted:!0,networkIdentifier:"cyan",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.MAINNET]:{migrationCompleted:!0,networkIdentifier:"mainnet",networkMigratedTo:i.SAPPHIRE_MAINNET},[r.TESTNET]:{migrationCompleted:!0,networkIdentifier:"teal",networkMigratedTo:i.SAPPHIRE_DEVNET}},s=(i.SAPPHIRE_MAINNET,i.SAPPHIRE_DEVNET,{[r.MAINNET]:"https://metadata.web3auth.io",[r.TESTNET]:"https://metadata.web3auth.io",[r.CYAN]:"https://metadata.web3auth.io",[r.AQUA]:"https://metadata.web3auth.io",[r.CELESTE]:"https://metadata.web3auth.io"}),u={[i.SAPPHIRE_DEVNET]:["https://node-1.dev-node.web3auth.io","https://node-2.dev-node.web3auth.io","https://node-3.dev-node.web3auth.io","https://node-4.dev-node.web3auth.io","https://node-5.dev-node.web3auth.io"],[i.SAPPHIRE_MAINNET]:["https://node-1.node.web3auth.io","https://node-2.node.web3auth.io","https://node-3.node.web3auth.io","https://node-4.node.web3auth.io","https://node-5.node.web3auth.io"]},f=(t,e)=>{const n=u[t];if(!n||0===n.length)throw new Error(`Unsupported network: ${t}`);const o=c[e];return n.map((t=>o&&o.networkIdentifier?`${t}/sss/${o.networkIdentifier}/jrpc`:`${t}/sss/jrpc`))},d=(t,e)=>{const n=u[t];if(!n||0===n.length)throw new Error(`Unsupported network: ${t}`);const o=c[e];return n.map((t=>o&&o.networkIdentifier?`${t}/rss/${o.networkIdentifier}`:`${t}/rss`))},l=(t,e)=>{const n=u[t];if(!n||0===n.length)throw new Error(`Unsupported network: ${t}`);const o=c[e];return n.map((t=>o&&o.networkIdentifier?`${t}/tss/${o.networkIdentifier}`:`${t}/tss`))},p={[i.SAPPHIRE_MAINNET]:[{X:"e0925898fee0e9e941fdca7ee88deec99939ae9407e923535c4d4a3a3ff8b052",Y:"54b9fea924e3f3e40791f9987f4234ae4222412d65b74068032fa5d8b63375c1"},{X:"9124cf1e280aab32ba50dffd2de81cecabc13d82d2c1fe9de82f3b3523f9b637",Y:"fca939a1ceb42ce745c55b21ef094f543b457630cb63a94ef4f1afeee2b1f107"},{X:"555f681a63d469cc6c3a58a97e29ebd277425f0e6159708e7c7bf05f18f89476",Y:"606f2bcc0884fa5b64366fc3e8362e4939841b56acd60d5f4553cf36b891ac4e"},{X:"2b5f58d8e340f1ab922e89b3a69a68930edfe51364644a456335e179bc130128",Y:"4b4daa05939426e3cbe7d08f0e773d2bf36f64c00d04620ee6df2a7af4d2247"},{X:"3ecbb6a68afe72cf34ec6c0a12b5cb78a0d2e83ba402983b6adbc5f36219861a",Y:"dc1031c5cc8f0472bd521a62a64ebca9e163902c247bf05937daf4ae835091e4"}],[i.SAPPHIRE_DEVNET]:[{X:"f74389b0a4c8d10d2a687ae575f69b20f412d41ab7f1fe6b358aa14871327247",Y:"54e3a73098ed9bced3ef8821736e9794f9264a1420c0c7ad15d2fa617ba35ef7"},{X:"bc38813a6873e526087918507c78fc3a61624670ee851ecfb4f3bef55d027b5a",Y:"ac4b21229f662a0aefdfdac21cf17c3261a392c74a8790db218b34e3e4c1d56a"},{X:"b56541684ea5fa40c8337b7688d502f0e9e092098962ad344c34e94f06d293fb",Y:"759a998cef79d389082f9a75061a29190eec0cac99b8c25ddcf6b58569dad55c"},{X:"7bcb058d4c6ffc6ba4bfdfd93d141af35a66338a62c7c27cdad2ae3f8289b767",Y:"336ab1935e41ed4719e162587f0ab55518db4207a1eb36cc72303f1b86689d2b"},{X:"bf12a136ef94399ea098f926f04e26a4ec4ac70f69cce274e8893704c4951773",Y:"bdd44828020f52ce510e026338216ada184a6867eb4e19fb4c2d495d4a7e15e4"}]},h=(t,e)=>({currentEpoch:"1",torusNodeEndpoints:f(t,e),torusNodeSSSEndpoints:f(t,e),torusNodeRSSEndpoints:d(t,e),torusNodeTSSEndpoints:l(t,e),torusIndexes:[1,2,3,4,5],torusNodePub:p[t]});function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function v(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?b(Object(o),!0).forEach((function(n){e(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var y=n(344),_=n.n(y),g=n(640),w=n.n(g);const E=w().getLogger("http-helpers");E.setLevel(g.levels.INFO);let S="torus-default";const m=async function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={mode:"cors",headers:{}};(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).useAPIKey&&(n.headers=v(v({},n.headers),function(){const t={};return S&&(t["x-api-key"]=S),t}()));const o=_()(n,e,{method:"GET"}),r=await async function(t,e){let n=null;try{n=new URL(t)}catch(t){}return fetch(t,e)}(t,o);if(r.ok){const t=r.headers.get("content-type");return null!=t&&t.includes("application/json")?r.json():r.text()}throw function(t){E.info(`Response: ${t.status} ${t.statusText}`),E.info(`Url: ${t.url}`)}(r),r},N=w().getLogger("fnd"),j=class{constructor(){let{network:t=i.SAPPHIRE_MAINNET,fndServerEndpoint:n,enableLogging:o=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,"fndServerEndpoint","https://fnd.web3auth.io/node-details"),e(this,"_currentEpoch","1"),e(this,"_torusNodeEndpoints",[]),e(this,"_torusNodeRSSEndpoints",[]),e(this,"_torusNodeSSSEndpoints",[]),e(this,"_torusNodeTSSEndpoints",[]),e(this,"_torusNodePub",[]),e(this,"_torusIndexes",[]),e(this,"updated",void 0),e(this,"network",void 0),this.network=t,this.updated=!1,n&&(this.fndServerEndpoint=n),o?N.enableAll():N.disableAll()}get _nodeDetails(){return{currentEpoch:this._currentEpoch,torusNodeEndpoints:this._torusNodeEndpoints,torusNodeSSSEndpoints:this._torusNodeSSSEndpoints,torusNodeRSSEndpoints:this._torusNodeRSSEndpoints,torusNodeTSSEndpoints:this._torusNodeTSSEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}async getNodeDetails(t){let{verifier:e,verifierId:n}=t;try{if(this.updated&&!a.includes(this.network))return this._nodeDetails;try{const{nodeDetails:t}=await m(`${this.fndServerEndpoint}?network=${this.network}&verifier=${e}&verifierId=${n}`);return this.setNodeDetails(t),this._nodeDetails}catch(t){N.error("Failed to fetch node details from server, using local.",t)}const t=function(t){if(Object.values(i).includes(t))return h(t);if(Object.values(r).includes(t)){const e=c[t];if(e.migrationCompleted)return h(e.networkMigratedTo,t)}}(this.network);if(!t)throw new Error("Failed to fetch node details");return this.setNodeDetails(t),this._nodeDetails}catch(t){throw N.error("Failed to fetch node details",t),t}}async getMetadataUrl(){return Object.values(r).includes(this.network)?s[this.network]:(await this.getNodeDetails({verifier:"test-verifier",verifierId:"test-verifier-id"})).torusNodeEndpoints[0].replace("/sss/jrpc","/metadata")}setNodeDetails(t){const{currentEpoch:e,torusNodeEndpoints:n,torusNodeSSSEndpoints:o,torusNodeRSSEndpoints:r,torusNodeTSSEndpoints:i,torusNodePub:a,torusIndexes:c}=t;this._torusNodeEndpoints=n,this._torusNodeSSSEndpoints=o||[],this._torusNodeRSSEndpoints=r||[],this._torusNodeTSSEndpoints=i||[],this._torusNodePub=a,this._torusIndexes=c,this._currentEpoch=e,this.updated=!0}}})(),o})()));
//# sourceMappingURL=fetchNodeDetails.umd.min.js.map